{"version":3,"sources":["../../../barber/js/MessageBarber.js"],"names":["MessageBarber","message","dialog","Message","removeDialog","func","upload1","title","button1","button2","func1","func2","html","ticketArr","i","ticketsHtml","ticket","date1","date2","timeDiff","timeres","length","end_time","substr","Date","getTime","parseInt","Math","ceil","db","data","strategies","floor","did","discount","studio","id"],"mappings":"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","file":"MessageBarber.js","sourcesContent":["\nclass MessageBarber{\n    static alert(message){\n        this.dialog('提示', message, '取消', '确定', function(){\n            Message.removeDialog();\n        },function(){\n            Message.removeDialog();\n        });\n    }\n\n\n\n    static confirm(message, func){\n        this.dialog('提示', message, '取消', '确定', function(){\n            Message.removeDialog();\n        },function(){\n            func();\n\n            Message.removeDialog();\n        });\n    }\n\n    static upload(message){\n        this.upload1('提示', message, '取消', '确定', function(){\n            Message.removeDialog();\n        },function(){\n            Message.removeDialog();\n        });\n    }\n    static upload1(title, message, button1, button2, func1, func2){\n        let html =\n            `\n        <div id=\"all_notice\" class=\"pos_a h100 w100\" style=\"z-index:9999;transition:opacity .4s ease;\">\n            <div id=\"all_notice_cover\" class=\"pos_a w100 h100\" style=\"background:#000;opacity:0.3\"></div>\n            <div class=\"pos_r w100 h100\" style=\"display:flex;justify-content: center;align-items: center\">\n                <table style=\"width: 80%;background: #fff\">\n                    <tr>\n                        <td class=\"txtc\" colspan=\"2\" style=\"color: #000;font-weight:600;padding: 4%;\n    font-size: 5vw;\n    border-bottom: 1px solid #ddd;\">${title}</td>\n                    </tr>\n                     <tr>\n                        <td class=\"txtc\" colspan=\"2\" style=\"    color: #000;\n    padding: 6% 9% 9% 9%;\n    font-size: 4vw\">${message}</td>\n                    </tr>\n                     <tr>\n                      <td class=\"txtc pos_r\" id=\"all_notice_button1\" style=\"color:#666;font-size:4vw;border-top: solid 1px #ddd;padding: 4%;\">${button1}</td>\n                        <td class=\"txtc pos_r\" id=\"all_notice_button2\" style=\"background: red;color:#fff;font-size:4vw;padding: 4%;\">${button2}\n                        <input style=\"position:absolute;width:100%;height:100%;opacity:0;left:0;top:0;\" type=\"file\" onchange=\"index.vue.imgChange(this)\" />\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>  \n`;\n        Message.dialog(title, message, button1, button2, func1, func2, html);\n    }\n\n    static dialog(title, message, button1, button2, func1, func2){\n        var html =\n            `\n        <div id=\"all_notice\" class=\"pos_a h100 w100\" style=\"z-index:9999;transition:opacity .4s ease;\">\n            <div id=\"all_notice_cover\" class=\"pos_a w100 h100\" style=\"background:#000;opacity:0.3\"></div>\n            <div class=\"pos_r w100 h100\" style=\"display:flex;justify-content: center;align-items: center\">\n                <table style=\"width: 80%;background: #fff\">\n                    <tr>\n                        <td class=\"txtc\" colspan=\"2\" style=\"color: #000;font-weight:600;padding: 4%;\n    font-size: 5vw;\n    border-bottom: 1px solid #ddd;\">${title}</td>\n                    </tr>\n                     <tr>\n                        <td class=\"txtc\" colspan=\"2\" style=\"    color: #000;\n    padding: 6% 9% 9% 9%;\n    font-size: 4vw\">${message}</td>\n                    </tr>\n                     <tr>\n                      <td class=\"txtc\" id=\"all_notice_button1\" style=\"color:#666;font-size:4vw;border-top: solid 1px #ddd;padding: 4%;\">${button1}</td>\n                        <td class=\"txtc\" id=\"all_notice_button2\" style=\"background: red;color:#fff;font-size:4vw;padding: 4%;\">${button2}</td>\n                    </tr>\n                </table>\n            </div>\n        </div>  \n`;\n        Message.dialog(title, message, button1, button2, func1, func2, html);\n    }\n\n    static showTicket(title, ticketArr, button1, button2, func1, func2){\n        var i,ticketsHtml='',ticket;\n        var date1,date2,timeDiff,timeres;\n        for(i=0;i<ticketArr.length;i++){\n            ticket = ticketArr[i];\n            if(!!ticket.end_time === false)\n                ticket.end_time = \"2018-12-28\";\n            if(ticket.end_time.length >11){\n                ticket.end_time = ticket.end_time.substr(0,10);\n            }\n            date1 = new Date();\n            date2 = new Date(ticket.end_time);\n            timeDiff = date2.getTime()-date1.getTime();\n            timeDiff = parseInt(timeDiff/1000);\n            timeres = Math.ceil(timeDiff/86400);\n            ticketsHtml += `\n    <table class=\"ticket\" style=\"background:url(./images/bg-coupon.jpg);background-size:100% 100%\">\n        <tr>\n            <td class=\"txtc\"> \n                ${db.data.strategies[Math.floor(ticket.did)].discount}\n            </td>\n            <td>\n                <b style=\"font-size:18px\">￥</b><br/>\n                使用范围：${ticket.studio}&nbsp;&nbsp;详细><br/>\n                有效期至${(ticket.end_time)?('2018-12-30'):ticket.end_time.substr(0,10)}(剩\n                ${timeres}\n                天)\n            </td>\n            <td>\n                <div class=\"use\" onclick=\"\n                tid = ${ticket.id};\n                $('.use').css('background','none');\n                $(this).css('background','#fff')\">\n                    使用\n                </div>\n            </td>\n        </tr>\n    </table>\n`;\n        }\n\n        var html =\n            `\n        <table id=\"all_notice\" style=\"transition:all 0.4s ease;height: 80%;width: 80%;z-index: 9999;position: absolute;opacity: 1;top: 10%;left: 10%;\">\n            <tr>\n                <td style=\"background:#fff;\">\n                    <div style=\"    position: relative;width: 100%;height: 100%;\">\n                        <table style=\"height:10%;width:100%;\">\n                            <tr>\n                                <td>\n                                ${title}\n                                </td>\n                            </tr>\n                        </table>\n                        <div class=\"main\">\n                            ${ticketsHtml}\n                        </div>\n                        <table style=\"width: 100%;height: 10%;\">\n                            <tr>\n                                <td id=\"all_notice_button1\" class=\"txtc\" style=\"width: 50%;font-size: 16px;background: red;color: white;\">${button1}</td>\n                                <td id=\"all_notice_button2\" class=\"txtc\" style=\"width: 50%;border-top:solid 1px #ddd;padding:4%;font-size:16px;color:#666;\">${button2}</td>\n                            </tr>\n                        </table>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        <div id=\"all_notice_cover\" style=\"left:0;top:0;z-index:999;position:absolute;height: 100%;width: 100%;background-color: #000000;opacity: 0.6;\"></div>\n`;\n\n        Message.dialog(title, '', button1, button2, func1, func2, html);\n    }\n}"]}