{"version":3,"sources":["../../../barber/js/admin_barber.js"],"names":["app","API_URL","db","data","domain","controller","key","index_vue","Vue","el","compiled","initData","timer0","timer","service","footBar","text","img","click_img","status","orderTitle","state","choose","list","user","phone","fans","work_","launch_","users","yestodayTime","computed","work","set","val","_this","dataStr","Api","TABLE","BARBER_TABLE","KEY","MESSAGE","console","log","Util","getInstance","ajax","CODE","$","find","css","Message","toast","get","launch","methods","change2user","location","href","doOrderError","initOrderList","cancelOrderError","order","ID","id","orderError","cancelCallOrder","event","obj","target","confirm","clearInterval","remain","setInterval","callOrder","getUsersInfo","uidArr","i","length","remove","outRepeat","uidStr","join","Math","floor","orderChoose","index","Get_order_list_by_time","initFans","USER_BARBER_TABLE","into_service","initWorkState","work_state","init","initService","alert","JSON","stringify","SERVICE_TABLE","name","todayObj","Date","setHours","setMinutes","setSeconds","today0timeStamp","getTime","yestodayStamp","yestodayObj","yestodayYear","getFullYear","yestodayMonth","int2string","getMonth","yestodayDay","getDate","bannianStamp","bannianObj","bannianYear","bannianMonth","bannianDay","time","ORDER_TABLE","AND_","reverse","push","uid","create_time","titleItemClick","titleBar","footItemClick","pushPay"],"mappings":"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","file":"admin_barber.js","sourcesContent":["app= {\r\n    API_URL:`${db.data.domain}src/index.php`,\r\n    controller:'Barber_barber_setting',\r\n    key:'bid'\r\n};\r\nindex_vue = new Vue({\r\n    el: '#index_vue',\r\n    compiled: function () {\r\n        this.initData();\r\n    },\r\n    data: {\r\n        timer0:null,\r\n        timer:null,\r\n        service:['aaa','aaa','aaa','aaa'],\r\n        footBar:[\r\n            {text:'我的信息',img:'wode.png',click_img:'wode_click.png',status:false},\r\n            {text:'订单',img:'yueta.png',click_img:'yueta_click.png',status:true}\r\n        ],\r\n        orderTitle:[\r\n            {state:0,text:'待消费',choose:true,list:[]},\r\n            {state:2,text:'已完成',choose:false,list:[]},\r\n            {state:12,text:'问题订单',choose:false,list:[]},\r\n            {state:3,text:'已取消',choose:false,list:[]},\r\n        ],\r\n        user:{\r\n            img:'',\r\n            phone:'',\r\n            fans:2,\r\n        },\r\n        work_ : true,\r\n        launch_ : false,\r\n        users:[],\r\n        list:[],\r\n        yestodayTime:'',\r\n    },\r\n    computed:{\r\n        work:{\r\n            set:function(val){\r\n                var _this = this;\r\n                var dataStr;\r\n                if(val){\r\n                    //上班\r\n                    dataStr = '{' +\r\n                        '\"'+Api.TABLE+'\":\"'+BARBER_TABLE+'\",' +\r\n                        '\"'+Api.KEY+'\":{phone:\"'+this.user.phone+'\"},' +\r\n                        '\"'+Api.MESSAGE+'\":{\"work_state\":1}' +\r\n                        '}';\r\n                    console.log('update shangb');\r\n                }else{\r\n                    //下班\r\n                    dataStr = '{' +\r\n                        '\"'+Api.TABLE+'\":\"'+BARBER_TABLE+'\",' +\r\n                        '\"'+Api.KEY+'\":{phone:\"'+this.user.phone+'\"},' +\r\n                        '\"'+Api.MESSAGE+'\":{\"work_state\":0}' +\r\n                        '}';\r\n                    console.log('update down down');\r\n                }\r\n                Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Update_obj', function(data) {\r\n                    if(data[Api.CODE] === 0){\r\n                        _this.work_ = val;\r\n                        var index_vue = $('#index_vue');\r\n                        if(val){\r\n                            index_vue.find('.b1').css('background','#aaa');\r\n                            index_vue.find('.b2').css('background','#eee');\r\n                            index_vue.find('.b3').css('background','#eee');\r\n                        }else{\r\n                            index_vue.find('.b1').css('background','#eee');\r\n                            index_vue.find('.b2').css('background','#eee');\r\n                            index_vue.find('.b3').css('background','#aaa');\r\n                        }\r\n\r\n                    }else{\r\n                        Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                    }\r\n                });\r\n            },\r\n            get:function(){\r\n                return this.work_;\r\n            }\r\n        },\r\n        launch:{\r\n            set:function(val){\r\n                var _this = this;\r\n                var dataStr;\r\n                dataStr = '{' +\r\n                    '\"'+Api.TABLE+'\":\"'+BARBER_TABLE+'\",' +\r\n                    '\"'+Api.KEY+'\":{phone:\"'+this.user.phone+'\"},' +\r\n                    '\"'+Api.MESSAGE+'\":{\"work_state\":2}'+\r\n                    '}';\r\n                Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Update_obj', function(data){\r\n                    ////alert('07');\r\n                    if(data[Api.CODE] === 0){\r\n                        _this.launch_ = val;\r\n                        var index_vue = $('#index_vue');\r\n                        index_vue.find('.b1').css('background','#eee');\r\n                        index_vue.find('.b2').css('background','#aaa');\r\n                        index_vue.find('.b3').css('background','#eee');\r\n                    }else{\r\n                        Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                    }\r\n                    ////alert(7);\r\n                });\r\n            },\r\n            get:function(){\r\n                return this.launch_;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        change2user:function(){\r\n            Util.getInstance().ajax(\"{}\", db.data.api+'?r='+app.controller+'/change_2_user', function(data) {\r\n                if(data[Api.CODE] === 0){\r\n                    location.href='index.php';\r\n                }\r\n            },'get');\r\n        },\r\n        doOrderError:function(dataStr){\r\n            var _this = this;\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Change_order_error', function(data) {\r\n                if(data[Api.CODE] === 0){\r\n                    _this.initOrderList();\r\n                }\r\n            });\r\n        },\r\n        cancelOrderError:function(order){\r\n            var dataStr = '{' +\r\n                '\"'+Api.ID+'\":\"'+order.id+'\",' +\r\n                '\"'+Api.MESSAGE+'\":0'+\r\n                '}';\r\n            this.doOrderError(dataStr);\r\n        },\r\n        orderError:function(order,val){\r\n            var dataStr = '{' +\r\n                '\"'+Api.ID+'\":\"'+order.id+'\",' +\r\n                '\"'+Api.MESSAGE+'\":'+val+\r\n                '}';\r\n            this.doOrderError(dataStr);\r\n        },\r\n        cancelCallOrder:function(order, event){\r\n            var _this = this;\r\n            var obj = $(event.target);\r\n            if(confirm('确认要取消叫号吗')){\r\n                var dataStr = '{' +\r\n                    '\"'+Api.ID+'\":\"'+order.id+'\"' +\r\n                    '}';\r\n                Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Cancel_call_order', function(data) {\r\n                    if(data[Api.CODE] === 0){\r\n\r\n                        _this.initOrderList();\r\n                    }else{\r\n                        if(_this.timer !== null){\r\n                            clearInterval(_this.timer);\r\n                            _this.timer = null;\r\n                        }\r\n\r\n                        var remain = 60-data[Api.MESSAGE];\r\n                        _this.timer = setInterval(function(){\r\n                            obj.text(`取消叫号(${remain--})`);\r\n                            if(remain < 0){\r\n                                clearInterval(_this.timer);\r\n                                _this.timer = null;\r\n                            }\r\n                        },1000);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        callOrder:function(order){\r\n            var _this = this;\r\n            var dataStr;\r\n            if(confirm('确认要对其进行叫号吗')){\r\n                dataStr = '{' +\r\n                    '\"'+Api.ID+'\":\"'+order.id+'\"' +\r\n                    '}';\r\n                Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Into_call_order', function(data) {\r\n                    //alert('08');\r\n                    if(data[Api.CODE] === 0){\r\n                        _this.initOrderList();\r\n                    }else{\r\n                        Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                    }\r\n                    //alert(8);\r\n                });\r\n            }\r\n        },\r\n        getUsersInfo:function(uidArr){\r\n            for(var i=0;i<uidArr.length;i++)\r\n                if(!!db.data.users[uidArr[i].id]===true)\r\n                    db.data.users.remove(db.data.users[uidArr[i].id]);\r\n\r\n            if(uidArr.length === 0)\r\n                return;\r\n            uidArr = Util.getInstance().outRepeat(uidArr);\r\n            var uidStr = uidArr.join('|');\r\n            var dataStr = `\r\n                    {\r\n                        \"${Api.ID}\":\"${uidStr}\"\r\n                    }\r\n                    `;\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r=barber/get_user_info_by_uid', function(data){\r\n                if(data[Api.CODE] === 0){\r\n                    if(!!data[Api.MESSAGE] && data[Api.MESSAGE].length){\r\n                        var i;\r\n                        for(i=0;i<data[Api.MESSAGE].length;i++){\r\n                            db.data.users[Math.floor(data[Api.MESSAGE][i].id)] = data[Api.MESSAGE][i];\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        orderChoose:function(index){\r\n            var i,_this = this;\r\n            for(i=0;i<this.orderTitle.length;i++){\r\n                this.orderTitle[i].choose = false;\r\n            }\r\n            this.orderTitle[index].choose = true;\r\n            if(index<2){\r\n                if(_this.timer !== null)\r\n                    clearInterval(_this.timer);\r\n                _this.timer = setInterval(function(){\r\n                    _this.Get_order_list_by_time(_this.yestodayTime);\r\n                },10000);\r\n                this.Get_order_list_by_time(this.yestodayTime);\r\n            }\r\n        },\r\n        initFans:function(){\r\n            var _this = this;\r\n            var dataStr;\r\n            dataStr = '{' +\r\n                '\"'+Api.TABLE+'\":\"'+USER_BARBER_TABLE+'\",' +\r\n                '\"'+Api.KEY+'\":\"'+app.key+'\"' +\r\n                '}';\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Get_obj_count', function(data){\r\n                //alert('01');\r\n                if(data[Api.CODE] === 0){\r\n                    _this.user.fans = data[Api.MESSAGE];\r\n                }else{\r\n                    Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                }\r\n                //alert(1);\r\n            });\r\n        },\r\n        into_service : function(order){\r\n            Util.getInstance().ajax('{}', db.data.api+'?r='+app.controller+'/into_service', function(data){\r\n                //alert('02');\r\n                if(data[Api.CODE] === 0){\r\n                    order.state = 1;\r\n                }else{\r\n                    Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                }\r\n                //alert(2);\r\n            });\r\n        },\r\n        initWorkState:function(){\r\n            var _this = this;\r\n            var dataStr,work_state;\r\n            dataStr = '{' +\r\n                '\"'+Api.TABLE+'\":\"'+BARBER_TABLE+'\",' +\r\n                '\"'+Api.KEY+'\":{phone:\"'+this.user.phone+'\"}' +\r\n                '}';\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Get_obj', function(data){\r\n                //alert('03');\r\n                if(data[Api.CODE] === 0){\r\n                    work_state = Math.floor(data[Api.MESSAGE]['work_state']);\r\n                    if(work_state === 0){\r\n                        _this.work = false;\r\n                    }else if(work_state === 1){\r\n                        _this.work = true;\r\n                    }else if(work_state === 2){\r\n                        _this.launch = true;\r\n                    }\r\n                }else{\r\n                    Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                }\r\n                //alert(31);\r\n            });\r\n        },\r\n        init:function(){},\r\n        initData:function(){\r\n            var _this = this;\r\n            this.db = db;\r\n            Util.getInstance().ajax('{}', db.data.api+'?r='+app.controller+'/get_info', function(data){\r\n                //alert('09');\r\n                if(data[Api.CODE]===0){\r\n                    _this.user.img = data[Api.MESSAGE].img;\r\n                    _this.user.phone = data[Api.MESSAGE].phone;\r\n                    _this.initFans();\r\n                    _this.initWorkState();\r\n                    _this.initService();\r\n                    _this.initOrderList();\r\n                }else{\r\n                    alert(JSON.stringify(data[Api.MESSAGE]));\r\n                }\r\n                //alert(9);\r\n            },'get');\r\n        },\r\n        initService:function(){\r\n            var dataStr,i;\r\n            var _this = this;\r\n            dataStr = '{' +\r\n                '\"'+Api.TABLE+'\":\"'+SERVICE_TABLE+'\"' +\r\n                '}';\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Get_obj_arr', function(data){\r\n                //alert('041');\r\n                if(data[Api.CODE] === 0){\r\n                    for(i=0;i<data[Api.MESSAGE].length;i++){\r\n                        _this.service[Math.floor(data[Api.MESSAGE][i].id)] = data[Api.MESSAGE][i].name;\r\n                    }\r\n                }else{\r\n                    Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                }\r\n                //alert(4);\r\n            });\r\n        },\r\n        initOrderList:function(){\r\n            var _this = this;\r\n            let todayObj = new Date();\r\n            todayObj.setHours(0);\r\n            todayObj.setMinutes(0);\r\n            todayObj.setSeconds(0);\r\n            let today0timeStamp = Math.floor(todayObj.getTime()/1000);\r\n\r\n            let yestodayStamp = today0timeStamp;\r\n            let yestodayObj = new Date(yestodayStamp*1000);\r\n            let yestodayYear = yestodayObj.getFullYear();\r\n            let yestodayMonth = Util.getInstance().int2string(yestodayObj.getMonth()+1, 2);\r\n            let yestodayDay = Util.getInstance().int2string(yestodayObj.getDate(), 2);\r\n            this.yestodayTime = `${yestodayYear}-${yestodayMonth}-${yestodayDay} 00:00:00`;\r\n\r\n            let bannianStamp = today0timeStamp-86400*30;\r\n            let bannianObj = new Date(bannianStamp*1000);\r\n            let bannianYear = Util.getInstance().int2string(bannianObj.getMonth()+1, 2);\r\n            let bannianMonth = Util.getInstance().int2string(bannianObj.getDate(), 2);\r\n            let bannianDay = bannianObj.getDate();\r\n\r\n            _this.Get_order_list_by_time(`${bannianYear}-${bannianMonth}-${bannianDay} 00:00:00`);\r\n\r\n            if(_this.timer !== null)\r\n                clearInterval(_this.timer);\r\n            _this.timer = setInterval(function(){\r\n                _this.Get_order_list_by_time(_this.yestodayTime);\r\n            },10000);\r\n        },\r\n        Get_order_list_by_time:function(time){\r\n            let _this = this;\r\n            let dataStr = '{' +\r\n                '\"'+Api.TABLE+'\":\"'+ORDER_TABLE+'\",' +\r\n                '\"'+Api.KEY+'\":\"'+app.key+'\",' +\r\n                '\"'+Api.AND_+'\": {create_time:[\">\",\"'+time+'\"]}' +\r\n                '}';\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/Get_obj_arr', function(data){\r\n                let i,uidArr=[];\r\n                //alert('06');\r\n                if(data[Api.CODE] === 0){\r\n                    var list = data[Api.MESSAGE];\r\n                    if(list.length > 0){\r\n                        list.reverse();\r\n                        for(i=0;i<list.length;i++){\r\n                            uidArr.push(list[i].uid);\r\n                        }\r\n                        _this.getUsersInfo(uidArr);\r\n                        for(i=0;i<_this.list.length;i++){\r\n                            if(_this.list[i].create_time < _this.yestodayTime){\r\n                                list.push(_this.list[i]);\r\n                            }\r\n                        }\r\n                        _this.list = list;\r\n                    }\r\n                }else{\r\n                    Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                }\r\n            });\r\n        },\r\n        titleItemClick:function(index){\r\n            var length,i;\r\n            if(!this.titleBar[index].status){\r\n                length = this.titleBar.length;\r\n                for(i=0;i<length;i++){\r\n                    if(index !== i){\r\n                        this.titleBar[i].status = false;\r\n                    }\r\n                }\r\n                this.titleBar[index].status = true;\r\n            }\r\n        },\r\n        footItemClick:function(index){\r\n            var length,i;\r\n            if(!this.footBar[index].status){\r\n                length = this.footBar.length;\r\n                for(i=0;i<length;i++){\r\n                    if(index !== i){\r\n                        this.footBar[i].status = false;\r\n                    }\r\n                }\r\n                this.footBar[index].status = true;\r\n            }\r\n        },\r\n        pushPay:function(order){\r\n            var dataStr = '{' +\r\n                '\"'+Api.ID+'\":'+order.id +\r\n                '}';\r\n            Util.getInstance().ajax(dataStr, db.data.api+'?r='+app.controller+'/push_pay', function(data){\r\n                if(data[Api.CODE] === 0){\r\n                    alert('提醒成功');\r\n                }else{\r\n                    Message.getInstance().toast(data[Api.MESSAGE],3);\r\n                }\r\n            });\r\n        }\r\n    }\r\n});"]}