{"version":3,"sources":["../../../barber/pages/index.js"],"names":["index","hash","css","html","vue","VueP","el","created","db","launcher","Util","forEach","m","pages","page","addPage","compiled","data","nowBottomIndex","bottomNav","choose","text","right_text","right_img","imgUnClick","imgClick","func","window","getStatistics","line_up_nav","orders","img_arr","status","name","history_order","workStateView","workStateViewItems","state","unClickImg","clickImg","message_view","title","img","isEnd","analysis_view","me_items","me_lines","share_items","desc","user","avt","isuploading","methods","doneUpload","Message","removeWait","imgChange","_this","ajax","api","e","toast","cos","CosCloud","appid","bucket","region","getAppSign","callback","sign","getAppSignOnce","file","files","showWait","uploadFile","list","upload_index","nowImgIndex","access_url","JSON","parse","stringify","dataStr","uid","join","console","log","proccess","upload1","event","p_index","MessageBarber","alert","wx","chooseImage","count","sizeType","sourceType","success","res","localIds","setTimeout","getServerId","id","uploadImage","localId","isShowProgressTips","imgServerArr","serverId","skip","dialog","removeDialog","getBarberOrderList","error","start_server","look_rank","key","jump","ask","confirm","init","changeWorkState","work_state","updateOrderList","i","inEach","push","rightClick","obj","notice_pay","json","Page"],"mappings":"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","file":"index.js","sourcesContent":["class index extends Page {\r\n    constructor(hash){\r\n        let css;\r\n        css = `\r\n<style>\r\n    #index_vue .bottomNav,#index_vue .topNav{width:100%;background:#fff}\r\n    #index_vue .topNav{height:7vh;justify-content:space-between;align-items:center}\r\n    #index_vue .topNav>div{width:33.333333%}\r\n    #index_vue .topNav>div:nth-of-type(2){justify-content:center;align-items:center}\r\n    #index_vue .topNav>div:nth-of-type(3){justify-content:flex-end;align-items:center}\r\n    #index_vue .topNav .leftImg{width:4vh;height:3vh;margin-left:3vh}\r\n    #index_vue .bottomNav{height:10vh;justify-content:space-around}\r\n    #index_vue .bottomNav>div{display:flex;flex-direction:column}\r\n    #index_vue .bottomNav img{width:5vh;height:5vh}\r\n    #index_vue .body{width:100vw;height:83vh;background:#f5f5f5;padding:1vh 0 1vh 0}\r\n    .btr3{border-bottom:solid 3px red}\r\n    div{display:flex}\r\n</style>\r\n`;\r\n        let html=\r\n            [` \r\n<div class=\"flex topNav pos_r {{(bottomItem.choose)?'':'disn'}}\" style=\"z-index:9;\" v-for=\"bottomItem in bottomNav\">\r\n    <div class=\"flex\">\r\n        <img class=\"leftImg\" onclick=\"history.go(-1)\" src=\"./images/index/back.png\" />\r\n    </div>\r\n    <div class=\"flex\" style=\"font-size:5vw;font-weight:600\">{{bottomItem.text}}</div>\r\n    <div @touchstart=\"rightClick($index)\" class=\"flex {{(bottomItem.right_text || bottomItem.right_img)?'':'o0'}}\">\r\n        <span class=\"flex flex-center\">{{bottomItem.right_text}}</span>\r\n        <img style=\"width:4vh;height:4vh;margin:0 2vh 0 2vh;\" :src=\"'./images/index/'+(bottomItem.right_img)\" />\r\n    </div>\r\n</div>\r\n`,`\r\n <div class=\"{{(bottomNav[0].choose)?'':'disn'}} body flex-column pos_r\">\r\n    <div class=\"pos_a h100 w100 t0 {{(workStateView)?'':'disn'}}\" @touchstart=\"rightClick(0)\" style=\"background:#000;opacity:0.4;height:83vh;\"></div>\r\n    <div class=\"pos_a t0 w100\" style=\"transform:translateY({{workStateView?'0vh':'-15vh'}});transition:transform 0.3s ease;\">\r\n        <div class=\"w100 pos_r flex-around\" style=\"height:15vh;background: #fff;padding: 3vh;\">\r\n            <div @touchstart=\"launcher.navChoose(workStateViewItems,$index,changeWorkState)\" v-for=\"item in workStateViewItems\" class=\"flex-center-y flex-column\"><img style=\"width:10vw\" :src=\"'./images/index/'+((item.choose)?item.clickImg:item.unClickImg)\" /><span>{{item.text}}</span></div>\r\n        </div>\r\n    </div>\r\n    <div class=\"w100\" style=\"height:10%;background: #fff;margin-bottom:3%;\">\r\n        <div v-for=\"item in line_up_nav\" @touchstart=\"launcher.navChoose(line_up_nav,$index,updateOrderList)\" class=\"{{(item.choose)?'red btr3':''}} w50 flex-center flex\">{{item.text}}</div>\r\n    </div>\r\n    <div v-for=\"obj in line_up_nav\" class=\"scroll {{(obj.choose)?'inbl':'disn'}}\" style=\"height:94%;\">\r\n        <div class=\"flex-column\" v-for=\"item in obj.list\" style=\"background:#fff;width:96vw;margin:0 2vw 2vw 2vw;\">\r\n            <template v-if=\"$parent.$index === 0\">\r\n                <div class=\"flex-between\" style=\"padding:2vh;\">\r\n                    <span>{{item.desc}}</span>\r\n                    <span>详情></span>\r\n                </div>\r\n                <div>\r\n                    <div style=\"font-weight:700;font-size:4vw;\"><b>NO:{{item.name}}</b></div>\r\n                  <div class=\"flex-column\">\r\n                        <div class=\"flex-center-y\"> <img :src=\"item.avt\" style=\"height: 12vw;width: 12vw;margin: 0 4vw 0 8vw;border-radius: 50%;\" />{{item.customer}} </div>\r\n                        <div style=\"padding: 3vw 5vw;\">{{item.phone}}&nbsp;&nbsp;{{item.time}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex-around\">\r\n                 \r\n                </div>\r\n                <div v-if=\"item.state==0\" class=\"flex-around\" style=\"margin: 1vh 0;\">\r\n                    <div @touchstart=\"skip(item.id,item.name)\" style=\"color:#fff;width:45vw;height:10vw;background:#dfdfdf\" class=\"flex-center\">过号</div>\r\n                    <div @touchstart=\"ask(item.id,item.name)\" style=\"color:#fff;width:45vw;height:10vw;background:red;\" class=\"flex-center\">叫号</div>\r\n                </div>\r\n                <div v-if=\"item.state==4\" class=\"flex-around\" style=\"margin: 1vh 0;\">\r\n                    <div @touchstart=\"skip(item.id)\" style=\"color:#fff;width:45vw;height:10vw;background:#dfdfdf\" class=\"flex-center\">过号</div>\r\n                    <div @touchstart=\"start_server(item.id)\" style=\"color:#fff;width:45vw;height:10vw;background:red;\" class=\"flex-center\">开始剪发</div>\r\n                </div>\r\n                <div v-if=\"item.state==1\" class=\"flex-around\" style=\"margin: 1vh 0;\">\r\n                    <div @touchstart=\"notice_pay(item.id)\" style=\"color:#fff;width:45vw;height:10vw;background:red;\" class=\"flex-center\">提醒付款</div>\r\n                </div>\r\n                <div v-if=\"item.state==5\" class=\"flex-around\" style=\"margin: 1vh 0;\">\r\n                    <div @touchstart=\"error(item.id)\" style=\"color: #f5f5f5;width: 30vw;height:10vw;font-size: 2vw;background: #aaa;\" class=\"flex-center\">系统外付款过了</div>\r\n                    <div @touchstart=\"notice_pay(item.id)\" style=\"color:#fff;width:45vw;height:10vw;background:red;\" class=\"flex-center\">等待付款中，再次提醒</div>\r\n                </div>\r\n            </template>\r\n            `,`\r\n            <template v-if=\"$parent.$index === 1\">\r\n                <div class=\"flex-between\" style=\"padding:2vh;\">\r\n                    <span>{{item.desc}}</span>\r\n                    <span>详情></span>\r\n                </div>\r\n                <div>\r\n                    <div>NO:{{item.name}}</div>\r\n                   <div class=\"flex-column\">\r\n                        <div class=\"flex-center-y\"> <img :src=\"item.avt\" style=\"height: 12vw;width: 12vw;margin: 0 4vw 0 8vw;border-radius: 50%;\" />{{item.customer}} </div>\r\n                        <div style=\"padding: 3vw 9vw;\">{{item.phone}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{item.time}}</div>\r\n                    </div>\r\n                </div>\r\n            \r\n                <div class=\"flex-around\">\r\n                    <img v-for=\"src in item.img\" :src=\"src\" style=\"width:32.5%;height:100%;\" @click=\"upload1($event,$index,$parent.$index);\" />\r\n                    <div v-if=\"item.img.length<=2\" @click=\"upload1($event,null,$parent.$index);\" style=\"display: inline-block;height:10%;border: dashed 2px #ddd;border-radius:14px;width: 80px;\">\r\n                        <img class=\"iii\" style=\"width:100%;transform:scale(0.5);\" :src=\"db.data.oss+'barber/images/add.png'\"/>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n             <template v-if=\"$parent.$index === 2\">\r\n                <div class=\"flex-between\" style=\"padding:2vh;\">\r\n                    <span>{{item.desc}}</span>\r\n                    <span>详情></span>\r\n                </div>\r\n                <div>\r\n                    <div>NO:{{item.name}}</div>\r\n                   <div class=\"flex-column\">\r\n                        <div class=\"flex-center-y\"> <img :src=\"item.avt\" style=\"height: 12vw;width: 12vw;margin: 0 4vw 0 8vw;border-radius: 50%;\" />{{item.customer}} </div>\r\n                        <div style=\"padding: 3vw 9vw;\">{{item.phone}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{item.time}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex-around\">\r\n                 \r\n                </div>\r\n            </template>\r\n            `,`\r\n        </div>\r\n    </div>\r\n     <div class=\"pos_a h100 w100 t0 {{(workStateView)?'':'disn'}}\" @touchstart=\"rightClick(0)\" style=\"background:#000;opacity:0.4;height:83vh;\"></div>\r\n    <div class=\"pos_a t0 w100\" style=\"transform:translateY({{workStateView?'0vh':'-15vh'}});transition:transform 0.3s ease;\">\r\n        <div class=\"w100 pos_r flex-around\" style=\"height:15vh;background: #fff;padding: 3vh;\">\r\n            <div @touchstart=\"launcher.navChoose(workStateViewItems,$index,changeWorkState)\" v-for=\"item in workStateViewItems\" class=\"flex-center-y flex-column\"><img style=\"width:10vw\" :src=\"'./images/index/'+((item.choose)?item.clickImg:item.unClickImg)\" /><span>{{item.text}}</span></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`,`\r\n<div class=\"{{(bottomNav[1].choose)?'':'disn'}} body flex-column\">\r\n    <div @touchstart=\"look_rank(analys.page)\" v-for=\"analys in analysis_view\" class=\"flex-column\" style=\"background:#{{($index&1)?'fff':'ddd'}};margin:0 2vw 2vw 2vw\">\r\n         <div style=\"padding:2vw 5vw 0;font-size:3.8vw\">{{analys.Title}}</div>\r\n        <div>\r\n            <div class=\"vw50 flex-column\">\r\n                 <div class=\"flex-center-x clred\" style=\"margin-top:5vw;font-size:5vw;\">{{analys.LeftValue}}</div>\r\n                 <div class=\"flex-center-x clbl\" style=\"margin-bottom:1vw;font-size:3vw;\">{{analys.LeftLabel}}</div>\r\n            </div>\r\n            <div class=\"vw50 flex-column\">\r\n                 <div class=\"flex-center-x clred\" style=\"margin-top:5vw;font-size:5vw;\">{{analys.RightValue}}</div>\r\n                 <div class=\"flex-center-x clbl\" style=\"margin-bottom:1vw;font-size:3vw;\">{{analys.RightLabel}}</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"vw100 flex-between\">\r\n             <div style=\"margin:2vw 3vw;font-size:3vw;\" class=\"clbl fwei\">{{analys.LeftFoot}}</div>\r\n             <div style=\"margin:2vw 3vw;font-size:3vw;\" class=\"claaa\">{{analys.RightFoot}}></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`,`\r\n<div class=\"{{(bottomNav[2].choose)?'':'disn'}} body flex-column\">\r\n    <img class=\"100vw\" style=\"height:58vw;\" src=\"./images/index/personbg.jpg\" />\r\n    <div class=\"flex-around\" style=\"padding:2vw 0;\">\r\n        <div v-for=\"item in share_items\" style=\"width:30vw;height:50vw;\" class=\"flex-column bgwh\">\r\n            <div class=\"flex-center bgred\" style=\"height:23vw;\">\r\n                <img :src=\"item.img\" style=\"width:3vw;height:2.9vw;transform:scale(2.8)\" />\r\n            </div>\r\n            <div class=\"flex-center\" style=\"font-size:4vw;height:10vw;font-weight:600;\">{{item.title}}</div>\r\n            <div class=\"flex-center-x\" style=\"padding:0 4vw;font-size:3vw;color:#555;\">{{item.desc}}</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`,`\r\n<div class=\"{{(bottomNav[3].choose)?'':'disn'}} body flex-column\">\r\n    <div v-for=\"obj in message_view\" class=\"pos_r flex-center-y w100 flex-between message_view\" @click=\"jump(obj.hash)\" ontouchstart=\"this.style.background='#f5f5f5'\" ontouchend=\"this.style.background='#fff'\" style=\"background:#fff;height:14vw;\">\r\n        <div class=\"h100 flex-center-y\" style=\"margin-left:4vw;\" >\r\n            <img style=\"    width: 8vw;height: 8vw;margin-right: 8vw;\" :src=\"'./images/index/'+(obj.img)\" />\r\n            <div class=\"flex-column flex-center-y\">\r\n                <div><strong>{{obj.title}}</strong></div>\r\n                <div>{{obj.text}}</div>\r\n            </div>\r\n        </div>\r\n        <img style=\"width:7vw;height:6vw;margin-right:5vw;\" src=\"./images/index/right.png\" />\r\n        <div v-if=\"!obj.isEnd\" class=\"pos_a r0 b0\" style=\"height:1px;background:#ddd;width:81%;\"></div>\r\n    </div>\r\n</div>\r\n`,`\r\n<div class=\"{{(bottomNav[4].choose)?'':'disn'}} body flex-column\"> \r\n    <input class=\"pos_a clwh inputo0\" type=\"text\" value=\"{{user.name}}\" style=\"font-size: 3.9vw;text-align: center;width: 100vw;top: 58vw;\" />\r\n    <img class=\"pos_a\" style=\"width:16vw;left:42vw;top:33vw;\" :src=\"user.avt\" />\r\n    <span class=\"pos_a txtc\" style=\"    background: #f5f5f5;border-radius: 10vw;width: 24vw;height: 5vw;left: 38vw;top: 69vw;padding: 0 2vw;color: #999;font-size: 3vw;padding-top: 0.4vw;\">高级发型师</span>\r\n    <img class=\"100vw\" style=\"height:58vw;\" src=\"./images/index/personbg.jpg\" />\r\n    <div class=\"flex-around bkwh\" style=\"padding:5vw 0;margin-bottom:2vw\">\r\n        <div v-for=\"item in me_items\" class=\"flex-column\">\r\n            <img style=\"width:8vw;height:8vw;\" :src=\"item.img\">\r\n            <span>{{item.text}}</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"flex-column\">\r\n        <div class=\"bkwh\" style=\"border-bottom:solid 1px #f5f5f5;padding:2vw 0;\" v-for=\"item in me_lines\">\r\n            <img style=\"width:6vw;height:6vw;margin:0 5vw;\" :src=\"item.img\">\r\n            <span>{{item.text}}</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n`,`\r\n<div class=\"flex bottomNav flex-center-y\">\r\n    <div v-for=\"bottomItem in bottomNav\" @click=\"bottomItem.func\" @touchstart=\"launcher.navChoose(bottomNav,$index)\">\r\n        <img :src=\"'./images/index/'+((bottomItem.choose)?bottomItem.imgClick:bottomItem.imgUnClick)\" />\r\n        <div>{{bottomItem.text}}</div>\r\n    </div>\r\n</div>\r\n`];\r\n\r\n        super(hash, html, css);\r\n    }\r\n\r\n    vue_(){\r\n        this.vue = new VueP({\r\n            el: this.hash+'_vue',\r\n            created () {\r\n                this.db = db;\r\n                this.launcher = launcher.vue;\r\n                Util.forEach(m.pages,(page)=>{\r\n                    m.addPage(page);\r\n                });\r\n            },\r\n            compiled () {},\r\n            data: {\r\n                nowBottomIndex:0,\r\n                bottomNav:[\r\n                    {choose:true,text:'排队',right_text:'',right_img:'work_table.png',imgUnClick:'line_up.png',imgClick:'line_up_click.png',},\r\n                    {choose:false,text:'分析',right_text:'',right_img:'',imgUnClick:'analysis.png',imgClick:'analysis_click.png',func:function(){\r\n                        window.index.vue.getStatistics()\r\n                    }},\r\n                    {choose:false,text:'分享',right_text:'',right_img:'',imgUnClick:'share.png',imgClick:'share_click.png',},\r\n                    {choose:false,text:'消息',right_text:'',right_img:'',imgUnClick:'message.png',imgClick:'message_click.png',},\r\n                    {choose:false,text:'我的',right_text:'',right_img:'',imgUnClick:'me.png',imgClick:'me_click.png'}\r\n                ],\r\n                line_up_nav:[],\r\n                orders:[\r\n                    {img_arr:[],status:0,name:'B001'},\r\n                    {img_arr:[],status:0,name:'B002'},\r\n                ],\r\n                history_order:[\r\n                    {img_arr:[],status:0,name:'B001'},\r\n                    {img_arr:[],status:0,name:'B002'},\r\n                ],\r\n                workStateView:false,\r\n                workStateViewItems:[\r\n                    {state:0,choose:true, unClickImg:'analysis.png',clickImg:'analysis_click.png',text:'下班中'},\r\n                    {state:1,choose:false,unClickImg:'analysis.png',clickImg:'analysis_click.png',text:'上班中'},\r\n                    {state:2,choose:false,unClickImg:'analysis.png',clickImg:'analysis_click.png',text:'吃饭中'},\r\n                ],\r\n\r\n                message_view:[\r\n                    {title:'支付消息',text:'支付金额￥43.00',img:'money.png',isEnd:false,},\r\n                    {title:'顾客评价',text:'手艺很赞!',img:'evaluate.png',isEnd:false,},\r\n                    {title:'咨询消息',text:'暂无消息',img:'consultation.png',isEnd:false,hash:\"query_bind_code\"},\r\n                    {title:'店务通知',text:'暂无消息',img:'stoe.png',isEnd:false,},\r\n                    {title:'系统通知',text:'暂无消息',img:'sys.png',isEnd:true,},\r\n                ],\r\n                analysis_view:[],\r\n                me_items:[\r\n                    {img:'./images/index/order.png',text:'订单',},\r\n                    {img:'./images/index/pjia.png',text:'评价',},\r\n                    {img:'./images/index/work.png',text:'作品',},\r\n                    {img:'./images/index/kaoqing.png',text:'考勤',},\r\n                ],\r\n                me_lines:[\r\n                    {img:'./images/index/ticket.png',text:'优惠券',},\r\n                    {img:'./images/index/organization.png',text:'组织',},\r\n                    {img:'./images/index/setting.png',text:'设置',},\r\n                ],\r\n                share_items:[\r\n                    {img:'./images/index/home_wh.png',title:'主页',desc:'创建，编辑，分享您的个人主页'},\r\n                    {img:'./images/index/ticket_wh.png',title:'优惠券',desc:'分享门店优惠券，帮您带收益哟~'},\r\n                    {img:'./images/index/work_wh.png',title:'作品',desc:'优质的作品是帮你获得订单的保证~'},\r\n                ],\r\n                user:{\r\n                    avt:'',\r\n                    name:'',\r\n                },\r\n                isuploading : false\r\n            },\r\n            methods: {\r\n                doneUpload(){\r\n                    this.isuploading = false;\r\n                    Message.removeWait();\r\n                },\r\n                imgChange(_this){\r\n                    Util.ajax(null, `${db.data.api}getObjectStoreKey.php`, (data) => {\r\n                        if (data.e !== 0) {\r\n                            Message.toast('图片上传出现问题');\r\n                        } else {\r\n                            this.cos = new CosCloud({\r\n                                appid: '1253594735',// APPID 必填参数\r\n                                bucket: 'wx',//bucketName 必填参数\r\n                                region: 'gz',//地域信息 必填参数 华南地区填gz 华东填sh 华北填tj\r\n                                getAppSign: function (callback) {\r\n                                    callback(data.data.sign);\r\n                                },\r\n                                getAppSignOnce: function (callback) {//单次签名，参考上面的注释即可\r\n                                    callback(data.data.sign);\r\n                                }\r\n                            });\r\n                            let file = _this.files[0];\r\n                            if (!file)\r\n                                return;\r\n                            Message.showWait('上传中');\r\n                            this.isuploading = true;\r\n                            this.cos.uploadFile((data) => {\r\n                                this.line_up_nav[1].list[db.upload_index].img[this.nowImgIndex] = data.data.access_url;\r\n                                this.line_up_nav = JSON.parse(JSON.stringify(this.line_up_nav));\r\n                                this.doneUpload();\r\n                                let dataStr = `{\r\n                                    \"uid\":${this.line_up_nav[1].list[db.upload_index].uid},\r\n                                    \"img\":\"${this.line_up_nav[1].list[db.upload_index].img.join('|')}\"\r\n                                }`;\r\n                                Util.ajax(dataStr, `${db.data.api}updateUserImg.php`, (data) => {\r\n                                    if(data.e !== 0){\r\n                                        Message.toast('修改失败');\r\n                                    }\r\n                                });\r\n                            }, (data) => {\r\n                                console.log('error');\r\n                                console.log(data);\r\n                                this.doneUpload();\r\n                            }, (proccess) => {\r\n                                console.log(proccess);\r\n                            }, this.bucket, `/comment/` + 'user' + '_' + this.line_up_nav[1].list[db.upload_index].uid + '_' + file.name, file, 0);//insertOnly==0 表示允许覆盖文件 1表示不允许\r\n                        }\r\n                    });\r\n                },\r\n                upload1(event,index,p_index){\r\n                    let _this = this;\r\n                    if(this.isuploading === true){\r\n                        MessageBarber.alert('有图片正在上传，请耐心等待');\r\n                        return;\r\n                    }\r\n                    if(index === null){\r\n                        wx.chooseImage({\r\n                            count: 3, // 默认9\r\n                            sizeType: ['compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n                            sourceType: ['album'], // 可以指定来源是相册还是相机，默认二者都有\r\n                            success: function (res) {\r\n                                let localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\r\n                                _this.isuploading = true;\r\n                                _this.nowImgIndex = 0;\r\n                                setTimeout(()=>{\r\n                                    _this.isuploading = false;\r\n                                //     let dataStr = `{\r\n                                //     \"uid\":${this.line_up_nav[1].list[db.upload_index].uid},\r\n                                //     \"img\":\"${this.line_up_nav[1].list[db.upload_index].img.join('|')}\"\r\n                                // }`;\r\n                                //     Util.ajax(dataStr, `${db.data.api}updateUserImg.php`, (data) => {\r\n                                //         if(data.e !== 0){\r\n                                //             Message.toast('修改失败');\r\n                                //         }\r\n                                //     });\r\n                                },2000);\r\n                                let getServerId = function(){\r\n                                    let id = localIds[_this.nowImgIndex];\r\n                                    if(id){\r\n                                        wx.uploadImage({\r\n                                            localId: id, // 需要上传的图片的本地ID，由chooseImage接口获得\r\n                                            isShowProgressTips: 1, // 默认为1，显示进度提示\r\n                                            success: function (res) {\r\n                                                _this.imgServerArr[_this.nowImgIndex] = res.serverId;\r\n                                                _this.nowImgIndex++;\r\n                                                getServerId();\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                };\r\n                                getServerId();\r\n                                console.log(p_index);\r\n                                this.line_up_nav[1].list[p_index].img = localIds;\r\n                            }\r\n                        });\r\n                    }\r\n                },\r\n                skip(id){\r\n                    MessageBarber.dialog('提示', '确定要取消该订单吗', '关闭', '确定', ()=>{\r\n                        Message.removeDialog();\r\n                    }, ()=>{\r\n                        let dataStr = `{\r\n                            \"oid\":${id},\r\n                            \"state\":3\r\n                        }`;\r\n                        Util.ajax(dataStr, `${db.data.api}changeOrderState.php`, (data) => {\r\n                            if(data.e !== 0){\r\n                                Message.toast('过号失败');\r\n                            }else{\r\n                                this.getBarberOrderList();\r\n                            }\r\n                        });\r\n                        Message.removeDialog();\r\n                    });\r\n\r\n                },\r\n                error(id){\r\n                    MessageBarber.dialog('提示', '确定要取消该订单吗,请确认是否已经在系统外付款完毕', '关闭', '确定', ()=>{\r\n                        Message.removeDialog();\r\n                    }, ()=>{\r\n                        let dataStr = `{\r\n                            \"oid\":${id},\r\n                            \"state\":6\r\n                        }`;\r\n                        Util.ajax(dataStr, `${db.data.api}changeOrderState.php`, (data) => {\r\n                            if(data.e !== 0){\r\n                                Message.toast('消该订单失败');\r\n                            }else{\r\n                                this.getBarberOrderList();\r\n                            }\r\n                        });\r\n                        Message.removeDialog();\r\n                    });\r\n                },\r\n                start_server(id){\r\n                    let dataStr = `{\r\n                        \"oid\":${id},\r\n                        \"state\":1\r\n                    }`;\r\n                    Util.ajax(dataStr, `${db.data.api}changeOrderState.php`, (data) => {\r\n                        if(data.e !== 0){\r\n                            Message.toast('无法开始服务');\r\n                        }else{\r\n                            this.getBarberOrderList();\r\n                        }\r\n                    });\r\n                },\r\n                look_rank(key){\r\n                    switch(key){\r\n                        case 'rank':\r\n                            this.jump('turnover_rank');\r\n                            break;\r\n                    }\r\n                    //ajax key\r\n\r\n                },\r\n                ask(id,name){\r\n                    MessageBarber.confirm(`确定要对${name}进行叫号吗`,()=>{\r\n                        let dataStr = `{\r\n                        \"oid\":${id},\r\n                        \"state\":4\r\n                    }`;\r\n                        Util.ajax(dataStr, `${db.data.api}changeOrderState.php`, (data) => {\r\n                            if(data.e !== 0){\r\n                                Message.toast('叫号失败');\r\n                            }else{\r\n                                this.getBarberOrderList();\r\n                            }\r\n                        });\r\n                    });\r\n                },\r\n                init(){\r\n                    console.log('adfsads')\r\n                    Util.ajax(null, `${db.data.api}getBarberInfo.php`, (data) => {\r\n                        if(data.e !== 0){\r\n                        }else{\r\n                            this.changeWorkState(data.data.work_state);\r\n                            this.user.avt = data.data.avt;\r\n                            this.user.name = data.data.name;\r\n                        }\r\n                    });\r\n                    this.getBarberOrderList();\r\n                },\r\n                getStatistics(){\r\n                    Util.ajax(null, `${db.data.api}getStatistics.php`, (data) => {\r\n                        if(data.e !== 0){\r\n                        }else{\r\n                            this.analysis_view = JSON.parse(JSON.stringify(data.data));\r\n                        }\r\n                    });\r\n                },\r\n                updateOrderList(){\r\n                    Util.ajax(null, `${db.data.api}getBarberOrderList.php`, (data) => {\r\n                        if(data.e === 0){\r\n                            Util.forEach(data.data, (name, i)=>{\r\n                                this.line_up_nav[i] = ({\r\n                                    choose:this.line_up_nav[i].choose,\r\n                                    text:name,\r\n                                    list:data.data[name]\r\n                                });\r\n                            });\r\n\r\n                            console.log(this.line_up_nav);\r\n                            this.line_up_nav = JSON.parse(JSON.stringify(this.line_up_nav));\r\n                        }\r\n                    });\r\n                },\r\n                getBarberOrderList(){\r\n                    Util.ajax(null, `${db.data.api}getBarberOrderList.php`, (data) => {\r\n                        if(data.e !== 0){\r\n                        }else{\r\n                            this.line_up_nav = [];\r\n                            console.log(data.data);\r\n                            Util.inEach(data.data, (list, key, i)=>{\r\n                                this.line_up_nav.push({\r\n                                    choose:!i,\r\n                                    text:key,\r\n                                    list:list\r\n                                });\r\n                            });\r\n                            this.line_up_nav = JSON.parse(JSON.stringify(this.line_up_nav));\r\n                        }\r\n                    });\r\n                },\r\n                rightClick(index){\r\n                    switch (index){\r\n                        case 0:\r\n                            this.workStateView = !this.workStateView;\r\n                            break;\r\n                    }\r\n                },\r\n                changeWorkState(index){\r\n                    Util.forEach(this.workStateViewItems, (obj)=>{\r\n                        obj.choose = false;\r\n                    });\r\n                    this.workStateViewItems[index].choose = true;\r\n                    let state = this.workStateViewItems[index].state;\r\n                    this.bottomNav[0].right_text = this.workStateViewItems[index].text;\r\n                    let dataStr = `{\r\n                        \"state\":${state}\r\n                    }`;\r\n                    Util.ajax(dataStr, `${db.data.api}setBarberState.php`, (data) => {\r\n                        if(data.e !== 0){\r\n                            Message.toast('失败');\r\n                        }else{}\r\n                    });\r\n                },\r\n                notice_pay(id){\r\n\r\n                    let dataStr = `{\r\n                        \"oid\":${id}\r\n                    }`;\r\n                    Util.ajax(dataStr, `${db.data.api}queryOrder.php`, (json) => {\r\n                        if(json.e !== 0){\r\n                            Message.toast('提示失败1');\r\n                        }else{\r\n                            if(!json.data.res){\r\n                                let dataStr = `{\r\n                                    \"oid\":${id},\r\n                                    \"state\":5\r\n                                }`;\r\n                                Util.ajax(dataStr, `${db.data.api}changeOrderState.php`, (data) => {\r\n                                    if(data.e !== 0){\r\n                                        Message.toast('提示失败2');\r\n                                    }else{\r\n                                        MessageBarber.alert('提示付款成功');\r\n                                        this.getBarberOrderList();\r\n                                    }\r\n                                });\r\n                            }else{\r\n                                this.getBarberOrderList();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}"]}