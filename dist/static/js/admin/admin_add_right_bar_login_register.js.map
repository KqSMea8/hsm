{"version":3,"sources":["../../../../static/js/admin/admin_add_right_bar_login_register.js"],"names":["getHtml","$","append","admin_login","getInstance","self","hash","prototype","vue","vue_","VueP","el","compiled","computed","data","model","input","account","text","hint","password","register","password2","methods","register_click","dataStr","Util","checkTwoPassword","Message","toast","res","trim","length","hex_md5","ACCOUNT","PASSWORD","ajax","db","api","CODE","MESSAGE","login","rightAreaHref"],"mappings":"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","file":"admin_add_right_bar_login_register.js","sourcesContent":["(function(){\r\n    var getHtml = function(){\r\n        return `\r\n<section id=\"admin_login_vue\">\r\n    <div class=\"col-md-4 col-lg-4\"></div>\r\n    <div class=\"col-xs-12 col-md-6 col-lg-6 txt_c\">\r\n        <div class=\"row login_box txtc\">\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-6 login_box_head active\"\r\n                         onclick=\"\r\n                    $(this).parent().find('div').removeClass('active');\r\n                    $(this).addClass('active');\r\n                    admin_login.getInstance().vue.model='login'\"\r\n                    >用户名登入</div>\r\n                <div class=\"col-xs-6 login_box_head\" onclick=\"\r\n                    $(this).parent().find('div').removeClass('active');\r\n                    $(this).addClass('active');\r\n                    admin_login.getInstance().vue.model='register'\">用户注册</div>\r\n            </div>\r\n            <div class=\"row\" style=\"margin-top: 35px\">\r\n                <div class=\"form-group col-xs-12 {{(model=='login')?'':'disn'}}\">\r\n                    <label for=\"username\" class=\"login_box_username pos_a\"></label>\r\n                    <input v-model=\"input.account.text\" type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"{{input.account.hint}}\" />\r\n                </div>\r\n                <div class=\"form-group col-xs-12 {{(model=='login')?'':'disn'}}\">\r\n                    <label for=\"password\" class=\"login_box_password pos_a\"></label>\r\n                    <input v-model=\"input.password.text\" type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"{{input.password.hint}}\" />\r\n                </div>\r\n                <div class=\"form-group col-xs-12 {{model=='login'?'disn':''}}\">\r\n                    <label for=\"username2\" class=\"login_box_username pos_a\"></label>\r\n                    <input v-model=\"register.account.text\" type=\"text\" class=\"form-control\" id=\"username2\" placeholder=\"{{register.account.hint}}\" />\r\n                </div>\r\n                <div class=\"form-group col-xs-12 {{model=='login'?'disn':''}}\">\r\n                    <label for=\"password2\" class=\"login_box_password pos_a\"></label>\r\n                    <input v-model=\"register.password.text\" type=\"password\" class=\"form-control\" id=\"password2\" placeholder=\"{{register.password.hint}}\" />\r\n                </div>\r\n                <div class=\"form-group col-xs-12 {{model=='login'?'disn':''}}\">\r\n                    <label for=\"password3\" class=\"login_box_password pos_a\"></label>\r\n                    <input v-model=\"register.password2.text\" type=\"password\" class=\"form-control\" id=\"password3\" placeholder=\"{{register.password2.hint}}\" />\r\n                </div>\r\n            </div>\r\n            <button @click=\"login()\" class=\"{{model=='login'?'':'disn'}} btn btn-lg btn-default\">登录</button>\r\n            <button @click=\"register_click()\" class=\"{{model=='login'?'disn':''}} btn btn-lg btn-default\">注册</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-4 col-lg-4\"></div>\r\n</section>    \r\n`;\r\n};\r\n    $('.right-area').append(getHtml());\r\n})();\r\n\r\nvar admin_login = function(){};\r\nadmin_login.getInstance = function(){\r\n    if (!this.self) {\r\n        this.self = new admin_login();\r\n        this.self.hash = '#admin_login';\r\n    }\r\n    return this.self;\r\n};\r\nadmin_login.prototype.vue = null;\r\nadmin_login.prototype.hash = '';\r\nadmin_login.prototype.vue_ = function(){\r\n    this.vue = new VueP({\r\n        el: this.hash + '_vue',\r\n        compiled:function () {},\r\n        computed: {},\r\n        data:{\r\n            model:'login',\r\n            input: {\r\n                account: {text:\"\",hint:\"请输入账号\"},\r\n                password: {text:\"\",hint:\"请输入密码\"}\r\n            },\r\n            register:{\r\n                account: {text:\"\",hint:\"请输入账号\"},\r\n                password: {text:\"\",hint:\"请输入密码\"},\r\n                password2: {text:\"\",hint:\"请重复密码\"}\r\n            }\r\n        },\r\n        methods: {\r\n            register_click:function(){\r\n                var password,dataStr;\r\n                if(Util.getInstance().checkTwoPassword(this.register.password.text,this.register.password2.text)\r\n                    !== true){\r\n                    Message.getInstance().toast(res, 3);\r\n                    return false;\r\n                }\r\n                password = (this.register.password.text.trim().length == 32)?this.register.password.text.trim():hex_md5(this.register.password.text.trim());\r\n                dataStr = '{' +\r\n                    '\"'+ACCOUNT+'\":\"'+this.register.account.text.trim()+'\",' +\r\n                    '\"'+PASSWORD+'\":\"'+password+'\"' +\r\n                    '}';\r\n                Util.getInstance().ajax(dataStr, db.data.api+'?r=Barber_owner_setting/register', function(data){\r\n                    if (data[CODE] !== 0)\r\n                        Message.getInstance().toast(data[MESSAGE], 3);\r\n                    else\r\n                        Message.getInstance().toast('注册成功', 3);\r\n                });\r\n            },\r\n            login:function(){\r\n                var password, dataStr;\r\n                password = (this.input.password.text.trim().length == 32)?this.input.password.text.trim():hex_md5(this.input.password.text.trim());\r\n                dataStr = '{' +\r\n                    '\"'+ACCOUNT+'\":\"'+this.input.account.text.trim()+'\",' +\r\n                    '\"'+PASSWORD+'\":\"'+password+'\"' +\r\n                    '}';\r\n                Util.getInstance().ajax(dataStr, db.data.api+'?r=Barber_owner_setting/login', function(data){\r\n                    if (data[CODE] !== 0)\r\n                        Message.getInstance().toast(data[MESSAGE], 3);\r\n                    else\r\n                        rightAreaHref('admin_studio');\r\n                });\r\n            }\r\n        }\r\n    });\r\n};"]}