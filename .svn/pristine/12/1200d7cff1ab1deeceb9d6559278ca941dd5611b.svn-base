{"version":3,"sources":["../../../static/js/Message.js"],"names":["Message","$","str","time","toastTimer","clearTimeout","getToast","remove","$window","window","append","width","toast","css","height","show","setTimeout","opacity","title","message","button1","button2","func1","func2","html","dialog","getDialog","dialogCover","getDialogCover","hasDialog","find","on","removeDialog","obj","removeWait","template","opts","lines","length","radius","scale","corners","color","rotate","direction","speed","trail","fps","zIndex","className","top","left","shadow","hwaccel","position","spinner","Spinner","spin","el","e"],"mappings":"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","file":"Message.js","sourcesContent":["\r\nclass Message{\r\n    static getToast () {\r\n        return $(\"#toast\");\r\n    };\r\n\r\n    static toast (str, time) {\r\n        if (!!time === false) { time = 2; }\r\n        if (this.toastTimer !== -1) {\r\n            clearTimeout(this.toastTimer);\r\n            this.toastTimer = -1;\r\n            this.getToast().remove();\r\n        }\r\n        var $window = $(window);\r\n        $(\"body\").append('<div id=\"toast\" style=\"position: fixed;opacity:0;height:auto;z-index:999;max-width:' + $window.width() * 0.7 + 'px;transition:opacity .3s ease;\">' +\r\n            '<div class=\"pos_a w100 h100\" style=\"background:#000;opacity:.8\"></div>' +\r\n            '<table class=\"w100 h100 pos_r\">' +\r\n            '<tr>' +\r\n            '<td style=\"color:#fff;padding:5px 17px;font-size: 4vw\">' + str + '</td>' +\r\n            '</tr>' +\r\n            '</table>' +\r\n            '</div>');\r\n        var toast = this.getToast();\r\n        toast.css('left', ($(window).width() - toast.width()) * 0.5);\r\n        toast.css('top', ($(window).height() * 0.8));\r\n        toast.show();\r\n        setTimeout(function () {\r\n            toast.css({ opacity: 1 });\r\n        }, 20);\r\n        this.toastTimer = setTimeout(function () {\r\n            toast.css(\"opacity\", 0);\r\n            setTimeout(function () {\r\n                toast.remove();\r\n            }, 500);\r\n        }, (time || 2) * 1000);\r\n    };\r\n    static getDialog () {\r\n        return $(\"#all_notice\");\r\n    };\r\n    static getDialogCover () {\r\n        return $(\"#all_notice_cover\");\r\n    };\r\n\r\n    static dialog (title, message, button1, button2, func1, func2, html) {\r\n        var dialog = this.getDialog();\r\n        var dialogCover = this.getDialogCover();\r\n        if (!!dialog.html() !== false) {\r\n            dialog.remove();\r\n            dialogCover.remove();\r\n        }\r\n        if(html){\r\n            $(\"body\").append(html);\r\n        }else{\r\n            $(\"body\").append('<div id=\"all_notice\" style=\"transition:opacity .4s ease;overflow: hidden;background-color:#fff;z-index:9999;border-radius:10px;position:absolute;width:70%;left:0;right:0;top:0;bottom:0;margin:auto;opacity:0;height:186px;padding: 0;\">' +\r\n                '<div class=\"w100 pos_r\" style=\"margin: 0;padding: 0;height: 120px\">' +\r\n                '<h1 class=\"txtc clbl\" style=\"font-size: 131%;font-weight: 600;padding: 2% 0;\">' + title + '</h1>' +\r\n                '<p class=\"txtc clbl c w100\" style=\"margin: 55px auto auto auto;padding:0 10%;position: relative;line-height: 21px;font-size: 15px;word-break: break-all;\">' + message + '</p>' +\r\n                '</div>' +\r\n                '<div class=\"w50 fl txtc\" id=\"all_notice_button1\" style=\"height:45px;padding: 4%;font-size: 18px;color: #ccf;border-top: solid 1px #ddd;border-right: solid 1px #ddd;\"><a>' + button2 + '</a></div>' +\r\n                '<div class=\"w50 fl txtc\" id=\"all_notice_button2\" style=\"height:45px;border-top: solid 1px #ddd;padding: 4%;font-size: 18px;color: #ccf;\"><a>' + button1 + '</a></div>' +\r\n                '</div>' +\r\n                '<div id=\"all_notice_cover\" style=\"left:0;top:0;z-index:999;position:absolute;height: 100%;width: 100%;background-color: #000000;opacity: 0.6;\"></div>');\r\n        }\r\n\r\n        dialog = this.getDialog();\r\n        dialogCover = this.getDialogCover();\r\n        // var p = dialog.find(\"p\");\r\n        // p.css({\r\n        //     'height': p.height() + 'px',\r\n        //     'position': 'absolute'\r\n        // });\r\n        // dialog.find('div.pos_r').css('height', p.height()+70);\r\n        // dialog.css('height', p.height()+115);\r\n        setTimeout(function () {\r\n            dialog.css({\r\n                \"opacity\": \"1\"\r\n            });\r\n        }, 100);\r\n        this.hasDialog = true;\r\n        dialog.find(\"#all_notice_button1\").on(\"click\", func1);\r\n        dialog.find(\"#all_notice_button2\").on(\"click\", func2);\r\n        dialogCover.on(\"click\", function () {\r\n            Message.removeDialog();\r\n        });\r\n    };\r\n    static removeDialog () {\r\n        var dialog = this.getDialog();\r\n        var dialogCover = this.getDialogCover();\r\n        Message.hasDialog = false;\r\n        dialog.css({\r\n            //\"transform\": \"scale(.9)\",\r\n            \"opacity\": \"0\"\r\n        });\r\n        setTimeout(function () {\r\n            dialog.remove();\r\n            dialogCover.remove();\r\n        }, 390);\r\n    };\r\n    static showLoad (obj) {\r\n        obj.append('<div class=\"load pos_a h100 w100\"><div class=\"cover h100 w100 pos_a\"></div><div class=\"loading\"><span>历史消息数据加载中</span><ul class=\"spinner\"><li></li><li></li><li></li><li></li></ul></div></div>');\r\n    };\r\n    static showWait (str) {\r\n        this.removeWait();\r\n        var template = '<div id=\"waitTip\" class=\"pos_a w100 h100 t0 l0\" style=\"z-index: 999;\">' +\r\n            // '<img class=\"pos_a w100 h100 t0 l0\" src=\"./img/s.png\" />'+\r\n            '<div class=\"content c pos_a\" style=\"border-radius: 15px;width: 100px;height: 100px;\">' +\r\n            '<div class=\"pos_a w100 t0 l0\" style=\"border-radius: 15px;background-color:#000;opacity:0.7;height:100%\"></div>' +\r\n            '<div class=\"pos_a t0 l0 w100 h70\">' +\r\n            '</div>' +\r\n            '<div class=\"pos_a b0 l0 w100 h30 txtc clwh\">' +\r\n            str +\r\n            '</div>' +\r\n            '</div>' +\r\n            '</div>';\r\n        $('body').append(template);\r\n        var opts = {\r\n            lines: 13 // The number of lines to draw\r\n            ,\r\n            length: 28 // The length of each line\r\n            ,\r\n            width: 14 // The line thickness\r\n            ,\r\n            radius: 48 // The radius of the inner circle\r\n            ,\r\n            \r\n            scale: 0.25 // Scales overall size of the spinner\r\n            ,\r\n            corners: 1 // Corner roundness (0..1)\r\n            ,\r\n            color: '#fff' // #rgb or #rrggbb or array of colors\r\n            ,\r\n            opacity: 0.25 // Opacity of the lines\r\n            ,\r\n            rotate: 0 // The rotation offset\r\n            ,\r\n            direction: 1 // 1: clockwise, -1: counterclockwise\r\n            ,\r\n            speed: 1.1 // Rounds per second\r\n            ,\r\n            trail: 60 // Afterglow percentage\r\n            ,\r\n            fps: 20 // Frames per second when using setTimeout() as a fallback for CSS\r\n            ,\r\n            zIndex: 2e9 // The z-index (defaults to 2000000000)\r\n            ,\r\n            className: 'spinner' // The CSS class to assign to the spinner\r\n            ,\r\n            top: '50%' // Top position relative to parent\r\n            ,\r\n            left: '50%' // Left position relative to parent\r\n            ,\r\n            shadow: false // Whether to render a shadow\r\n            ,\r\n            hwaccel: false // Whether to use hardware acceleration\r\n            ,\r\n            position: 'absolute' // Element positioning\r\n        };\r\n        var spinner = new Spinner(opts).spin();\r\n        $('#waitTip').find('div.h70').append(spinner.el);\r\n    };\r\n    static removeWait () {\r\n        try {\r\n            $('#waitTip').remove();\r\n        }\r\n        catch (e) { }\r\n    };\r\n}\r\nMessage.toastTimer = -1;\r\nMessage.hasDialog = false;"]}