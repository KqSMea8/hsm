{"version":3,"sources":["../../../static/js/PcApp.js"],"names":["__extends","PcApp","App","config","_this","call","prototype","doPull","modal","console","log","stacks","push","nextActive","getJqModal","css","show","nowActive","app","length","loadModal","publish","APP_EVENT_ANIMATION_BEGIN","doAnimation","firstLoad","self","setTimeout","transitionName","hashChange","APP_EVENT_HASH_CHANGE","pull","location","hash","split","sectionTransitionEnd","event","obj","$obj","target","propertyName","tagName","transitionTag","toUpperCase","isDoingAnimation","$","hide","APP_EVENT_ANIMATION_END","run","requirejs","Cookie","getCookie","defaultHash"],"mappings":";;AACAA,UAAUC,KAAV,EAAiBC,GAAjB;AACA,SAASD,KAAT,CAAeE,MAAf,EAAsB;AAClB,QAAIC,QAAQF,IAAIG,IAAJ,CAAS,IAAT,EAAeF,MAAf,KAA0B,IAAtC;AACA,WAAOC,KAAP;AACH;AACDH,MAAMK,SAAN,CAAgBC,MAAhB,GAAyB,UAASC,KAAT,EAAe;AACpCC,YAAQC,GAAR,CAAY,eAAaF,KAAzB;AACA,SAAKG,MAAL,CAAYC,IAAZ,CAAiBJ,KAAjB;AACA,QAAIK,aAAa,KAAKC,UAAL,CAAgBN,KAAhB,CAAjB;;AAEAK,eAAWE,GAAX,CAAe;AACX,oBAAa,UADF;AAEX,mBAAY,CAFD;AAGX,mBAAY;AAHD,KAAf,EAIGC,IAJH;AAKA,QAAIC,SAAJ;AACA,QAAG,CAAC,CAACC,IAAIP,MAAJ,CAAWO,IAAIP,MAAJ,CAAWQ,MAAX,GAAkB,CAA7B,CAAF,KAAsC,KAAzC,EAA+C;AAC3CF,oBAAY,KAAKH,UAAL,CAAgBI,IAAIP,MAAJ,CAAWO,IAAIP,MAAJ,CAAWQ,MAAX,GAAkB,CAA7B,CAAhB,CAAZ;AACAF,kBAAUF,GAAV,CAAc;AACV,wBAAW,UADD;AAEV,uBAAW;AAFD,SAAd;AAIH;;AAEDN,YAAQC,GAAR,CAAYG,UAAZ;AACAJ,YAAQC,GAAR,CAAYO,SAAZ;;AAEA,SAAKG,SAAL,CAAeZ,KAAf;AACAU,QAAIG,OAAJ,CAAY,KAAKC,yBAAjB;AACH,CAxBD;AAyBArB,MAAMK,SAAN,CAAgBiB,WAAhB,GAA8B,UAASN,SAAT,EAAmBJ,UAAnB,EAA8BW,SAA9B,EAAwC;AAClE,QAAIC,OAAO,IAAX;AACAC,eAAW,YAAW;AAClB,YAAGT,SAAH,EAAa;AACTA,sBAAUF,GAAV,CAAcU,KAAKE,cAAnB,EAAkC,GAAlC;AACH;AACDd,mBAAWE,GAAX,CAAeU,KAAKE,cAApB,EAAmC,GAAnC;AACH,KALD,EAKGH,YAAU,EAAV,GAAa,EALhB;AAMH,CARD;AASAvB,MAAMK,SAAN,CAAgBsB,UAAhB,GAA6B,YAAU;AACnCV,QAAIG,OAAJ,CAAY,KAAKQ,qBAAjB;AACA,SAAKC,IAAL,CAAUC,SAASC,IAAT,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAV;AACH,CAHD;AAIAhC,MAAMK,SAAN,CAAgB4B,oBAAhB,GAAuC,UAASC,KAAT,EAAe;AAClD,QAAIV,OAAO,IAAX;AACA,QAAIW,GAAJ,EAAQC,IAAR;AACAD,UAAMD,MAAMG,MAAZ;AACA,QAAGH,MAAMI,YAAN,KAAuB,KAAKZ,cAA5B,IAA8CS,IAAII,OAAJ,KAAgB,KAAKC,aAAL,CAAmBC,WAAnB,EAAjE,EAAkG;AAC9FjC,gBAAQC,GAAR,CAAY,sBAAZ;AACA,aAAKiC,gBAAL,GAAwB,KAAxB;AACAN,eAAOO,EAAER,GAAF,CAAP;AACAV,mBAAW,YAAW;AAClB,gBAAGW,KAAKtB,GAAL,CAASU,KAAKE,cAAd,KAAiC,CAApC,EACIU,KAAKQ,IAAL;AACP,SAHD,EAGE,GAHF;AAIA3B,YAAIG,OAAJ,CAAY,KAAKyB,uBAAjB;AACH;AACJ,CAdD;AAeA7C,MAAMK,SAAN,CAAgByC,GAAhB,GAAsB,YAAU;AAC5B,QAAItB,OAAO,IAAX;AACAC,eAAW,YAAU;AACjBsB,kBAAU,CAAC,QAAD,CAAV,EAAsB,UAASC,MAAT,EAAgB;AAClClB,qBAASC,IAAT,GAAgBiB,OAAOC,SAAP,CAAiB,MAAjB,KAA4BzB,KAAK0B,WAAjD;AACH,SAFD;AAGH,KAJD,EAIE,GAJF;AAKH,CAPD","file":"PcApp.js","sourcesContent":["\r\n__extends(PcApp, App);\r\nfunction PcApp(config){\r\n    var _this = App.call(this, config) || this;\r\n    return _this;\r\n}\r\nPcApp.prototype.doPull = function(modal){\r\n    console.log('do pull : '+modal);\r\n    this.stacks.push(modal);\r\n    var nextActive = this.getJqModal(modal);\r\n\r\n    nextActive.css({\r\n        'position' : 'relative',\r\n        'z-index' : 1,\r\n        'opacity' : 0\r\n    }).show();\r\n    var nowActive;\r\n    if(!!app.stacks[app.stacks.length-2] !== false){\r\n        nowActive = this.getJqModal(app.stacks[app.stacks.length-2]);\r\n        nowActive.css({\r\n            'position':'absolute',\r\n            'z-index': 9\r\n        });\r\n    }\r\n\r\n    console.log(nextActive);\r\n    console.log(nowActive);\r\n\r\n    this.loadModal(modal);\r\n    app.publish(this.APP_EVENT_ANIMATION_BEGIN);\r\n};\r\nPcApp.prototype.doAnimation = function(nowActive,nextActive,firstLoad){\r\n    var self = this;\r\n    setTimeout(function() {\r\n        if(nowActive){\r\n            nowActive.css(self.transitionName,'0');\r\n        }\r\n        nextActive.css(self.transitionName,'1');\r\n    },(firstLoad?50:20));\r\n};\r\nPcApp.prototype.hashChange = function(){\r\n    app.publish(this.APP_EVENT_HASH_CHANGE);\r\n    this.pull(location.hash.split('#')[1]);\r\n};\r\nPcApp.prototype.sectionTransitionEnd = function(event){\r\n    var self = this;\r\n    var obj,$obj;\r\n    obj = event.target;\r\n    if(event.propertyName === this.transitionName && obj.tagName === this.transitionTag.toUpperCase()){\r\n        console.log('sectionTransitionEnd');\r\n        this.isDoingAnimation = false;\r\n        $obj = $(obj);\r\n        setTimeout(function() {\r\n            if($obj.css(self.transitionName) == 0)\r\n                $obj.hide();\r\n        },100);\r\n        app.publish(this.APP_EVENT_ANIMATION_END);\r\n    }\r\n};\r\nPcApp.prototype.run = function(){\r\n    var self = this;\r\n    setTimeout(function(){\r\n        requirejs(['Cookie'], function(Cookie){\r\n            location.hash = Cookie.getCookie('hash') || self.defaultHash;\r\n        });\r\n    },300);\r\n};"]}