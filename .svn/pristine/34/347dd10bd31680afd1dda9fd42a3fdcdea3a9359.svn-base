{"version":3,"sources":["../../../../static/js/browser/Browser.js"],"names":["Browser","UNAVALIABLE","WIFI","JIZHAN","userLocationType","positionSupport","die","alert","wx","closeWindow","e","close","getPlaceByLatLon_CallBack","addComp","placeInfo","province","city","district","street","streetNumber","setUserPosition","Message","toast","getUserPosition","navigator","geolocation","getCurrentPosition","getPositionSuccess","getPositionError","enableHighAccuracy","timeout","maximumAge","position","coords","lon","lat","longitude","latitude","console","log"],"mappings":";;AACA,SAASA,OAAT,GAAkB;AACd,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,gBAAL,GAAwB,EAAxB;;AAEA,SAAKC,eAAL,GAAuB,IAAvB;;AAEA,SAAKC,GAAL,GAAW,YAAU;AACjBC,cAAM,KAAN;AACA,YAAG;AACCC,eAAGC,WAAH;AACH,SAFD,CAEC,OAAOC,CAAP,EAAS,CAET;AACDC;AACH,KARD;;AAUA,SAAKC,yBAAL,GAAiC,UAASC,OAAT,EAAiB;AAC9C,YAAGA,OAAH,EAAW;AACP,gBAAIC,YAAYD,QAAQE,QAAR,GAAmB,GAAnB,GAAyBF,QAAQG,IAAjC,GAAwC,GAAxC,GAA8CH,QAAQI,QAAtD,GAAiE,GAAjE,GAAuEJ,QAAQK,MAA/E,GAAwF,GAAxF,GAA8FL,QAAQM,YAAtH;AACA,iBAAKC,eAAL,CAAqBN,SAArB;AACH,SAHD,MAGK;AACDO,oBAAQC,KAAR,CAAc,OAAd,EAAuB,CAAvB;AACH;AACJ,KAPD;AAQA,SAAKC,eAAL,GAAuB,YAAU;AAC7B,YAAIC,UAAUC,WAAd,EAA2B;AACvBD,sBAAUC,WAAV,CAAsBC,kBAAtB,CAAyC,KAAKC,kBAA9C,EAAkE,KAAKC,gBAAvE,EAAwF;AACpFC,oCAAoB,IADgE,EAC3D;AACzBC,yBAAS,IAF2E,EAEtE;AACdC,4BAAY,IAHwE,CAGpE;AAHoE,aAAxF;AAKH,SAND,MAMK;AACD,iBAAK1B,eAAL,GAAuB,KAAvB;AACH;AACJ,KAVD;AAWA,SAAKsB,kBAAL,GAA0B,UAASK,QAAT,EAAkB;AACxC;AACA,YAAIC,SAASD,SAASC,MAAtB;AACA,YAAIC,GAAJ,EAAQC,GAAR;AACAD,cAAMD,OAAOG,SAAb;AACAD,cAAMF,OAAOI,QAAb;AACAC,gBAAQC,GAAR,CAAYL,MAAI,GAAJ,GAAQC,GAApB;AACH,KAPD;AAQA,SAAKP,gBAAL,GAAwB,YAAU;AAC9B,aAAKvB,eAAL,GAAuB,KAAvB;AACAgB,gBAAQC,KAAR,CAAc,SAAd,EAAwB,CAAxB;AACH,KAHD;AAIH","file":"Browser.js","sourcesContent":["\r\nfunction Browser(){\r\n    this.UNAVALIABLE = 0;\r\n    this.WIFI = 1;\r\n    this.JIZHAN = 2;\r\n    this.userLocationType = '';\r\n\r\n    this.positionSupport = null;\r\n\r\n    this.die = function(){\r\n        alert('die');\r\n        try{\r\n            wx.closeWindow();\r\n        }catch (e){\r\n\r\n        }\r\n        close();\r\n    };\r\n\r\n    this.getPlaceByLatLon_CallBack = function(addComp){\r\n        if(addComp){\r\n            var placeInfo = addComp.province + \" \" + addComp.city + \" \" + addComp.district + \" \" + addComp.street + \" \" + addComp.streetNumber;\r\n            this.setUserPosition(placeInfo)\r\n        }else{\r\n            Message.toast('error', 2);\r\n        }\r\n    };\r\n    this.getUserPosition = function(){\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(this.getPositionSuccess, this.getPositionError,{\r\n                enableHighAccuracy: true,// 指示浏览器获取高精度的位置，默认为false\r\n                timeout: 5000,// 指定获取地理位置的超时时间，默认不限时，单位为毫秒\r\n                maximumAge: 3000// 最长有效期，在重复获取地理位置时，此参数指定多久再次获取位置。\r\n            });\r\n        }else{\r\n            this.positionSupport = false;\r\n        }\r\n    };\r\n    this.getPositionSuccess = function(position){\r\n        //alert(position);\r\n        var coords = position.coords;\r\n        var lon,lat;\r\n        lon = coords.longitude;\r\n        lat = coords.latitude;\r\n        console.log(lon+\",\"+lat);\r\n    };\r\n    this.getPositionError = function(){\r\n        this.positionSupport = false;\r\n        Message.toast('定位功能被禁用',2);\r\n    };\r\n}"]}